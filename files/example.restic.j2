[general]

# The location of the rapository in which to store backup snapshots.
repo = {{ repo }}

# The file from which to read the repository password.
password_file = {{ restic_password_dir }}/{{ repo | replace('/', '_') }}

# Create a snapshot to backup specified data.
backup = {{ backup | default('yes') }}

# Remove snapshots according to a policy.
# Defaults to 'no'.
retention = {{ retention | default('yes') }}

# Check repository integrity and consistency
# Defaults to 'no'.
check = {{ check | default('yes') }}


[backup]

# Files and directories to backup when taking snapshots.
# This option may be specified multiple times.
#include =
{% for item in includes %}
include = {{ item }}
{% endfor %}

# Patterns by which to exclude files and directories from snapshots.
# This option may be specified multiple times.
#exclude =
{% for item in excludes %}
exclude = {{ item }}
{% endfor %}

# A short string to help identify a snapshot.
# This option may be specified multiple times.
#tag =
{% if tags is defined %}
{% for item in tags %}
tag = {{ item }}
{% endfor %}
{% endif %}


[retention]

# Never delete the n last (most recent) snapshots
keep_last = {{ keep.last }}

# For the last n hours/days/weeks/months/years in which a snapshot was made, keep only the last snapshot for each hour/day/week/month/year.
# Default is to keep 7 daily backups (when "retention = yes", above).
keep_hourly = {{ keep.hourly }}
keep_daily = {{ keep.daily }}
keep_weekly = {{ keep.weekly }}
keep_monthly = {{ keep.monthly }}
keep_yearly = {{ keep.yearly }}

# Keep all snapshots which have all tags specified by this option (can be specified multiple times).
#keep_tag =
{% for item in keep.tags %}
keep_tag = {{ item }}
{% endfor %}
